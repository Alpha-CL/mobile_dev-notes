# mobile development

#### mobile_dev introduction

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/** Native_App & Web_App & Hybrid_App **/


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


* Native                    // 原生

    - 语言: Object C ( IOS )
           Java ( Andorid )
    
    - 页面: 存放于本地
    
    - 优点: 性能/速度好，可使用手机系统内部接口
    
    - 缺点: 至少需要两个版本 ios/android/win


* Web                       // 网页

    - 语言: Html
    
    - 页面: 受限于 UIwebview 页面存放在于服务器
    
    - 优点: 跨平台
    
    - 缺点: 无法使用手机中内部接口


* Hybrid                    // 混合

    - 语言: Object C( IOS ) + Html
    
    - 页面: 受限于 UIwebview


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//

 
                  + -------------------------------- +                                           
                  |                                  |             
    + ----------- + ---- +                   + ----- + ---------- +
    |             |      |                   |       |            |
    |                    |                   |                    |
    |             |      |                   |       |            |
    |      Native        |       Hybrid      |         Web        |
    |             |      |                   |       |            |
    |                    |                   |                    |
    |             |      |                   |       |            |
    + ----------- + ---- +                   + ----- + ---------- +
                  |                                  |             
                  + -------------------------------- +             


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### mobile_dev vs pc_dev

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 移动端 和 PC端端区别
 * 
 * 
 * 移动设备市场份额统计: https://tongji.baidu.com/research/app
 */


1) system

    - PC: win/mac                   // 区别不大
    
    - Mob:  ios/android/win         // 有区别


2) broswer

    - PC: 区别很大                    // 兼容性
    
    - Mob: 区别不大                   // 基本使用 webkit 内核


3) pixel

    - PC: 有区别                      // 屏幕尺寸
    
    - Mob: 区别很大                   // important!


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### pixel

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 屏幕尺寸参数参考网站
 * 
 * 
 * https://www.sven.de/dpi/
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * CSS Pixel                    // 设备独立像素，逻辑像素
 * 
 * 
 * [num] px                     // 相对单位( 相对于设备像素 )
 */

1) CSS 中使用的一个抽象的概念

2) [num] px 是相对某个固定角度的到屏幕所占实际像素比，而不是单位

3) CSS像素 是相对于 屏幕实际像素 像素展示的比例，会根据用户扩大页面而变换 1CSS像素所占的 屏幕实际像素值


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * App Pixel                    // 设备物理像素
 * 
 * 
 * 真实存在的像素点( 1pt === 1 像素点 )
 */

1) 屏幕的物理像素，任何设备屏幕的物理像素的数量都是固定不变的，单位是 pt( 点 )

2) 一般指手机的分辨率

3) 1pt = 1/72inch


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * Screen Size                  // 屏幕尺寸
 * 
 * 
 * 屏幕对角线的长度
 */

1) 屏幕对角线的长度( 注意: 是以 英寸 为长度单位，而不是面积单位 )

2) 1 inch = 2.54 cm

3) 屏幕尺寸 = 屏幕斜边像素/PPI


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * Producer Price Index        // 像素密度
 * 
 * 
 * 像素密度是固定值( 出厂即固定的参数值 )
 */

1) PPI 的值越高，代表在一定尺寸的屏幕上像素数量越多，屏幕成像越清晰

2) PPI = 屏幕斜边像素/屏幕尺寸

3) 同一尺寸下，PPI 提高1倍，像素会提高4倍( width & height 都会提高相同的倍数 => w * h )

    - 1ppi === 1px x 1px = 1
    
    - 2ppi === 2px x 2px = 4

    - n ppi === n px x n px = n * n


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * Device Pixel Ratio           // 像素比
 * 
 * 
 * eg: 750*1334 设备像素 / 375*667 像素点 => 2 DPR
 *     切图 使用 @2x+，大图放在小像素比的屏幕上不会模糊，375*667 用矢量软件开发方便适配大屏幕
 *
 ** 像素比 > 2 即已超出肉眼可分辨的范围
 */

1) DPR = 物理像素/CSS像素

2) 本质: 一个 CSS像素，占用几个设备实际像素

3) 获取: window.devicePiexlRatio


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### viewport

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * viewport         // 视口( 可视区窗口 )，通过 meta 标签设置
 * 
 * 
 * - 默认视口宽度: 980px( 不同设备有所不同 )
 */

当未设置 body & html 的 宽度时，设置元素百分比宽度，会依次向 viewport 继承
div -> body -> html -> viewport( document.documentElement.clientWidth )


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// 已设置:

1) 屏幕宽度默认 980，但不同的型号也会不同
   ( 769 ~ 1024，def: 980, 早年大部分浏览器视口宽度 )
   
2) window.innerWidth 可获取


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// 未设置:

content: {

    - width:
        - 数字: 视口宽度( 正整数 )           // 不建议设置为数字( 安卓部分设备不支持 )
        - device-width: 设备实际宽度( CSS像素 )
        
        - width: num vs width=initial-scale=1 同时存在时
          ( 取较大像素值的设置 )
    
    - height:
    
        - user-scalable: no/yes          // 是否允许用户进行页面缩放
        
        - initial-scale: 页面初始缩放值，值为数字( 可以带小数 )
        
        - minimum-scale: 允许页面最小缩放的比例，值为数字( 可以带小数 )
        
        - maximum-scale: 允许页面最大缩放的比例，值为数字( 可以带小数 )
}


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// 为什么设置了不允许缩放，还要设置允许 最大/最小缩放 的比例?

1) 会有一些第三方工具破坏了 user-scalabl
     eg: 手机文字放大
     
2) iphone5 下会有黑边

3) ios10 不支持 user-scalable=no
     - 后续事件可解决( document.touchstart )



    DPR( 缩放比 ) = CSS像素/viewport宽度
    
    viewport宽度 = CSS像素/DPR(像素比)


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### meta element

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// meta 的常用设置:

<!-- 禁止识别电话与邮箱( 邮箱无效果 ) -->
<meta name="format-detection" content="telephone=no,email=no"/>

<!-- 设置添加到主屏幕后的标题( ios ) -->
<meta name="apple-mobile-web-app-title" content="标题">

<!-- 添加到主屏后，全凭显示，傻三处苹果默认的工具栏和菜单栏( 无用 ) -->
<meta name="apple-mobile-web-app-capable" content="yes" />

<!-- 设置放置在桌面的 logo -->
<!--<link rel="apple-touch-icon-precomposed" href="./logo.png">-->

<!-- 设置启动页画面( 无用 ) -->
<!--<link rel="apple-touch-startup-image" href="./start_page.jpg">-->

<!-- 设置x5内核浏览器只能竖屏幕浏览( 仅UC有效 ) -->
<meta name="x5-fullscreen" content="true"/>

<!-- 设置 UC浏览器 只能竖屏浏览 -->
<meta name="screen-orientation" content="protrait"/>

<!-- 设置 UC浏览器 全屏浏览 -->
<meta name="full-screen" content="yes"/>


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### reset default styles

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 移动端的样式重置
 *
 *
 */


body {
    font-family: helvetica;
    margin: 0;
}

body * {
    -webkit-user-select: none;
    -webkit-touch-callout: none;
    -webkit-text-size-adjust: 100%;
}

a, input, button {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

button, input {
    -webkit-appearance: none;
    border-radius: 0;
}

input::-webkit-input-placeholder {
    color: #000;
}

input:focus::-webkit-input-placeholder {
    color: #f00;
}


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// 禁止用户选中文字，安卓无效( 在事件那章解决，包括长按的时候会出菜单，用阻止touchstart后的默认行为搞定 )
-webkit-user-select: none;


// 禁止长按弹出系统菜单
-webkit-touch-callout: none;


// 去除android下a/button/input标签被点击时产生的边框 & 去除ios下a标签被点击时产生的半透明灰色背景
-webkit-tap-highlight-color: rgba(0,0,0,0);


// 切换横竖屏或者用户自己通过浏览器设置的话，可以改变字体的大小(需要给body下的所有元素)
-webkit-text-size-adjust: 100%;


// 按钮在ios下都是圆角
-webkit-appearance: none;       // button与input都会有个默认背景
border-radius: 0;               // input有个默认圆角


// 修改placeholder的样式
input::-webkit-input-placeholder {
    color:#000;	                            // 默认的样式
}
input:focus::-webkit-input-placeholder {
	color:#f00;	                            // 点击后的样式
}


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * 默认字体
 *
 *
 */

// ios
    - 默认中文 Heiti SC
    - 默认英文 Helevetica
    - 默认数字 HelveticaNeue
    - 无微软雅黑

// android
    - 默认中文 Droidsansfallback
    - 默认英文 Droid Sans
    - 默认数字 Droid Sans
    - 无微软雅黑


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### adaptation layout

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 适配概念
 * 
 * 
 * 在不同尺寸的手机设备上，页面相对性达到合理的展示( 自适应 ) 
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/** 需适配的元素 **/

1) 字体

2) 宽度

3) 间距

4) 图像( 图标，图片 )

5) ...


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/** 适配的方法 **/

1) 百分比适配

2) viewport 适配

3) DPR 适配

4) rem 适配

5) vw, vh 适配

6) ...


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```












